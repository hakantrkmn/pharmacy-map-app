<!doctype html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/eczane.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="manifest" href="/manifest.json" />
    
    <!-- SEO Meta Tags -->
    <title>İzmir Nöbetçi Eczane - Güncel Nöbetçi Eczane Listesi ve Harita</title>
    <meta name="description" content="İzmir'deki güncel nöbetçi eczane listesi. Harita üzerinde nöbetçi eczaneleri görüntüleyin, telefon numaralarını öğrenin ve yol tarifi alın. Günlük güncellenen veriler." />
    <meta name="keywords" content="izmir nöbetçi eczane, nöbetçi eczane izmir, eczane haritası, eczane telefon, yol tarifi, 24 saat eczane, konak, alsancak, karşıyaka, bornova, çiğli, gaziemir, balçova, narlıdere, güzelbahçe, urla, seferihisar, menderes, torbalı, bayraklı, buca, kemalpaşa, menemen, aliağa, foça, bergama, dikili, kınık, tire, ödemiş, beydağ, kiraz, selçuk, torbalı" />
    <meta name="author" content="İzmir Nöbetçi Eczane" />
    
    <!-- Geo Tags for Local SEO -->
    <meta name="geo.region" content="TR-35" />
    <meta name="geo.placename" content="İzmir" />
    <meta name="geo.position" content="38.4192;27.1287" />
    <meta name="ICBM" content="38.4192, 27.1287" />
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#2563eb" />
    <meta name="msapplication-TileColor" content="#2563eb" />
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/eczane.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="/eczane.png" />
    <link rel="apple-touch-icon" sizes="512x512" href="/eczane.png" />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="İzmir Nöbetçi Eczane - Güncel Nöbetçi Eczane Listesi" />
    <meta property="og:description" content="İzmir'deki güncel nöbetçi eczane listesi. Harita üzerinde nöbetçi eczaneleri görüntüleyin ve yol tarifi alın." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://izmir-nobetci-eczane.vercel.app" />
    <meta property="og:locale" content="tr_TR" />
    <meta property="og:site_name" content="İzmir Nöbetçi Eczane" />
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="İzmir Nöbetçi Eczane - Güncel Nöbetçi Eczane Listesi" />
    <meta name="twitter:description" content="İzmir'deki güncel nöbetçi eczane listesi. Harita üzerinde nöbetçi eczaneleri görüntüleyin." />
    <meta name="twitter:url" content="https://izmir-nobetci-eczane.vercel.app" />
    
    <!-- Additional SEO Meta Tags -->
    <meta name="robots" content="index, follow" />
    <meta name="googlebot" content="index, follow" />
    <link rel="canonical" href="https://izmir-nobetci-eczane.vercel.app" />
    
    <!-- Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "İzmir Nöbetçi Eczane",
      "description": "İzmir'deki güncel nöbetçi eczane listesi ve harita uygulaması",
      "url": "https://izmir-nobetci-eczane.vercel.app",
      "applicationCategory": "HealthApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "TRY"
      },
      "provider": {
        "@type": "Organization",
        "name": "İzmir Nöbetçi Eczane"
      }
    }
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>

    <!-- PWA Service Worker Registration -->
    <script>
      // Register service worker
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then((registration) => {
              console.log('SW registered: ', registration);

              // Check for updates
              registration.addEventListener('updatefound', () => {
                const newWorker = registration.installing;
                if (newWorker) {
                  newWorker.addEventListener('statechange', () => {
                    if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                      // New content is available, notify user
                      if (confirm('Yeni sürüm mevcut! Sayfayı yenilemek ister misiniz?')) {
                        window.location.reload();
                      }
                    }
                  });
                }
              });
            })
            .catch((registrationError) => {
              console.log('SW registration failed: ', registrationError);
            });
        });
      }

      // Install prompt for PWA
      let deferredPrompt;
      window.addEventListener('beforeinstallprompt', (e) => {
        // Prevent the mini-infobar from appearing on mobile
        e.preventDefault();
        // Stash the event so it can be triggered later
        deferredPrompt = e;
        // Update UI to notify the user they can install the PWA
        console.log('PWA install prompt available');
      });

      // Listen for successful installation
      window.addEventListener('appinstalled', (evt) => {
        console.log('PWA was installed successfully');
      });
    </script>
  </body>
</html>
